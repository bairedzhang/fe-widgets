var ZW=ZW||{};!function(a,b){b=b||{};var c={gid:1,guid:function(a){return a=a||"ZW",a+"_"+this.gid++},instance:{},getInstance:function(a){return this.instance[a]}},d=function(b){return this instanceof d?(this.config=a.extend(d.default,b),void(b.autoinit&&this.init())):new d(b)};d.default={container:null,id:null,className:{container:"",pre:"",next:"",pre_disable:"pre-disable",next_disable:"next-disable",ellipsis:"...",active:"on"},template:'<a href="#" data-page="{{page}}" class="j-page">{{page}}</a>',current:1,handler:null,autoinit:!1,len:5,total:1,showPreNext:!1,nextText:"\u4e0b\u4e00\u9875",preText:"\u4e0a\u4e00\u9875"},d.prototype={config:{},refresh:function(b){this.config=a.extend(this.config,b),this.makeHtml()},init:function(){var a=this;a.isInited||a.config.total<=1||(a.config.id=c.guid("Pagination"),c.instance[a.config.id]=a,a.makeHtml(),a.bind(),a.isInited=!0)},isInited:!1,elems:{},bind:function(){var b=this;a("#"+b.config.container).on("click","[data-page]",function(){var c=a(this).attr("data-page");if(c!=b.config.current){b.refresh({current:c});var d=b.config.handler;d(c,this)}})},makeHtml:function(){var a=this,b=a.config,c=b.len,d=parseInt(b.current),e=b.total,f=b.template,g=b.className.ellipsis,h=(b.showStartEnd,b.showPreNext),i=['<div id="',b.id,'" class="',b.className.container,'">'];if(h&&i.push('<a href="#" class="j-page pre" data-page="'+Math.max(d-1,1)+'">'+b.preText+"</a>"),c+2>=e)for(var j=1;e>=j;j++)i.push(f.replace(/\{\{page\}\}/g,j));else if(c-1>=d){for(var j=1;c+1>=j;j++)i.push(f.replace(/\{\{page\}\}/g,j));i.push('<a href="javascript:;">'+g+"</a>"),i.push(f.replace(/\{\{page\}\}/g,e))}else if(d>c-1){var k=Math.max(1,Math.floor(c/2));if(i.push(f.replace(/\{\{page\}\}/g,1)),d-k>2){var l=d-k;2!=l&&i.push('<a href="javascript:;">'+g+"</a>"),l+c>e&&(l=e-c);for(var j=l;j<Math.min(l+c,e);j++)i.push(f.replace(/\{\{page\}\}/g,j));e-1>=l+c&&i.push('<a href="javascript:;">'+g+"</a>")}else{for(var j=2;2+c>j;j++)i.push(f.replace(/\{\{page\}\}/g,j));e-1>=2+c&&i.push('<a href="javascript:;">'+g+"</a>")}i.push(f.replace(/\{\{page\}\}/g,e))}h&&i.push('<a href="#" class="j-page next" data-page="'+Math.min(d+1,e)+'">'+b.nextText+"</a>"),i.push("</div>"),a.html=i.join(""),a.draw()},draw:function(){var b=this,c=b.config;a("#"+b.config.container).html(b.html);var d=a("#"+c.id);if(d.find("[data-page="+c.current+"]").not(".pre,.next").addClass(c.className.active),c.showPreNext){var e=c.className.next_disable,f=c.className.pre_disable;d.find(".next").removeClass(e).siblings(".pre").removeClass(f),c.current==c.total?a("#"+c.id).find(".next").addClass(e):1==c.current&&a("#"+c.id).find(".pre").addClass(f)}},html:null},b.Pagination=d}(jQuery,ZW,window);